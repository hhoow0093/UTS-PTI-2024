<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Money Tracker - Output</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div id="bungkus">
        <div id="hasil-masukinNama"></div>
        <div id="top">
            <div id="logo">
                <a href="#">
                    <img src="gambar/uang.png"/>
                </a>
            </div> 
            <div id="menu">
                <ul id="nav">
                    <li><a class="active" href="main.html">Main</a></li>
                    <li><a href="moneytracker.html">Income & Outcome</a></li>
                    <li><a href="aboutus.html">About Us</a></li> 
                </ul>
            </div>
        </div>
        <main>
            <header>
                <div>
                    <h5>Total Balance</h5>
                    <span id="balance"></span>
                </div>
                <div>
                    <h5>Income</h5>
                    <span id="income"></span>
                </div>
                <div>
                    <h5>Outcome</h5>
                    <span id="expense"></span>
                </div>
            </header>

            <section>
                <h3>Transactions</h3>
                <ul id="transactionList"></ul>
                <div id="status"></div>
            </section>

            <script type="text/javascript">
                var output = localStorage.getItem('userName');
                var salam = "Hello, " + output;
                document.getElementById('hasil-masukinNama').innerHTML = '<strong>' + salam  +'</strong>';
            
                // Function to display balance, income, and expense
                function displayBalance() {
                    // Retrieve balance, income, and expense from local storage
                    var balance = parseFloat(localStorage.getItem('balance')) || 0;
                    var income = parseFloat(localStorage.getItem('income')) || 0;
                    var expense = parseFloat(localStorage.getItem('expense')) || 0;
            
                    // Display balance, income, and expense
                    document.getElementById('balance').textContent = 'Rp ' + balance.toFixed(2);
                    document.getElementById('income').textContent = 'Rp ' + income.toFixed(2);
                    document.getElementById('expense').textContent = 'Rp ' + expense.toFixed(2);
                }
            
                // Function to display transactions
                function displayTransactions() {
                    // Retrieve the array of transactions from local storage
                    var transactions = JSON.parse(localStorage.getItem('transactions')) || [];
            
                    // Get the ul element to which the transactions will be appended
                    var transactionList = document.getElementById('transactionList');
            
                    // Clear the transaction list
                    transactionList.innerHTML = '';
            
                    // Iterate over each transaction in the array and display
                    transactions.forEach(function(transaction) {
                        // Create a new list item containing the transaction details
                        var listItem = document.createElement('li');
                        listItem.innerHTML = 'Name: ' + transaction.name + '<br/>' +
                                            'Amount: ' + transaction.amount + '<br/>' +
                                            'Category: ' + transaction.category + '<br/>' +
                                            'Date: ' + transaction.date + '<br/><hr>';
            
                        // Append the new list item to the transaction list
                        transactionList.appendChild(listItem);
                    });
                }
            
                // Call functions to display balance and transactions
                displayBalance();
                displayTransactions();
            </script>
            
        </main>
    </div>
</body>
</html>

        